{"version":3,"sources":["components/Dropzone/index.tsx","helper/EdgeDetection.js","pages/Home/index.tsx","App.tsx","index.tsx"],"names":["Dropzone","onFileUploaded","onDrop","useCallback","acceptedFiles","file","useDropzone","getRootProps","getInputProps","isDragActive","accept","detectEdge","img","cannyEdgeDetector","lowThreshold","highThreshold","gaussianBlur","gaussianFilter","toDataURL","Home","useState","setFile","imageURL","setImageURL","a","reader","FileReader","onload","binaryStr","result","Image","load","then","greyImage","grey","processedImage","readAsArrayBuffer","useEffect","handleFileChanged","src","alt","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mOA4BeA,EArBmB,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,eAE7BC,EAASC,uBAAY,SAAAC,GACzB,IAAMC,EAAOD,EAAc,GAC3BH,EAAeI,KACd,CAACJ,IALoD,EAOFK,YAAY,CAAEJ,WAA5DK,EAPgD,EAOhDA,aAAcC,EAPkC,EAOlCA,cAAeC,EAPmB,EAOnBA,aAErC,OACE,wBAASF,IACP,2CAAWC,IAAX,CAA4BE,OAAO,aAEjCD,EACE,sDACA,wF,gBCXKE,MATf,SAAqBC,GAMjB,OALaC,YAAkBD,EAAI,CAC/BE,aAAc,GACdC,cAAe,GACfC,aAAc,MACfC,iBACSC,aCuCDC,G,OAvCF,WAAO,IAAD,EACSC,qBADT,mBACRf,EADQ,KACFgB,EADE,OAEiBD,mBAAS,IAF1B,mBAERE,EAFQ,KAEEC,EAFF,iDAYf,WAAiClB,GAAjC,eAAAmB,EAAA,uDACUC,EAAS,IAAIC,YAEZC,OAAS,WACZ,IAAMC,EAAYH,EAAOI,OACrBD,GAGJE,IAAMC,KAAKH,GAAWI,MAAK,SAACpB,GACxB,IAAMqB,EAAYrB,EAAIsB,OAChBC,EAAiBxB,EAAWsB,GAClCV,EAAYY,OAGpBV,EAAOW,kBAAkB/B,GAd7B,4CAZe,sBA4Bf,OAxBAgC,qBAAU,WACDhC,GALM,oCAQXiC,CAAkBjC,KAEnB,CAACA,IAmBA,oCACI,qCACA,kBAAC,EAAD,CAAUJ,eAAgBoB,IAEtBC,GAAY,yBAAKiB,IAAKjB,EAAUkB,IAAI,WC9BrCC,MANf,WACE,OACE,kBAAC,EAAD,OCHJC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.a122723a.chunk.js","sourcesContent":["import React, { useCallback } from 'react'\r\nimport { useDropzone } from 'react-dropzone'\r\n\r\ninterface Props {\r\n  onFileUploaded: (file: File) => void\r\n}\r\n\r\nconst Dropzone: React.FC<Props> = ({ onFileUploaded }) => {\r\n\r\n  const onDrop = useCallback(acceptedFiles => {\r\n    const file = acceptedFiles[0]\r\n    onFileUploaded(file)\r\n  }, [onFileUploaded])\r\n  \r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop })\r\n\r\n  return (\r\n    <div {...getRootProps()}>\r\n      <input {...getInputProps()} accept='image/*' />\r\n      {\r\n        isDragActive ?\r\n          <p>Drop the files here ...</p> :\r\n          <p>Drag 'n' drop some files here, or click to select files</p>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dropzone","import cannyEdgeDetector from 'canny-edge-detector';\r\n\r\nfunction detectEdge( img ) {\r\n    const edge = cannyEdgeDetector(img,{\r\n        lowThreshold: 40,\r\n        highThreshold: 70,\r\n        gaussianBlur: 2.5,\r\n    }).gaussianFilter()\r\n    return edge.toDataURL()\r\n}\r\n\r\nexport default detectEdge","import React, { useState, useEffect } from 'react'\r\nimport Dropzone from '../../components/Dropzone'\r\nimport { Image } from 'image-js'\r\n\r\nimport detectEdge from '../../helper/EdgeDetection'\r\nimport './styles.css'\r\n\r\n\r\nconst Home = () => {\r\n    const [file, setFile] = useState<File>()\r\n    const [imageURL, setImageURL] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (!file)\r\n            return\r\n\r\n        handleFileChanged(file)\r\n\r\n    }, [file])\r\n\r\n    async function handleFileChanged(file: File) {\r\n        const reader = new FileReader() \r\n        \r\n        reader.onload = () => {\r\n            const binaryStr = reader.result\r\n            if(!binaryStr)\r\n                return\r\n\r\n            Image.load(binaryStr).then((img: Image) => {\r\n                const greyImage = img.grey()\r\n                const processedImage = detectEdge(greyImage)\r\n                setImageURL(processedImage)\r\n              })\r\n        }\r\n        reader.readAsArrayBuffer(file)\r\n    }\r\n    return (\r\n        <>\r\n            <h1>Hello</h1>\r\n            <Dropzone onFileUploaded={setFile} />\r\n            {\r\n                imageURL && <img src={imageURL} alt='...' />\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Home","import React from 'react';\nimport './App.css';\n\nimport Home from './pages/Home'\n\nfunction App() {\n  return (\n    <Home />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}